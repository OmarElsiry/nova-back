# NOVA TON PRODUCTION ENVIRONMENT CONFIGURATION
# Copy this file to .env.production and fill in your values
# NEVER commit .env.production to version control!

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
NODE_ENV=production
PORT=5001
HOST=0.0.0.0

# ==============================================================================
# DATABASE - USE POSTGRESQL IN PRODUCTION!
# ==============================================================================
# Replace with your actual PostgreSQL connection string
DATABASE_URL=postgresql://username:password@localhost:5432/nova_production
DATABASE_POOL_SIZE=20
DATABASE_TIMEOUT=10000

# ==============================================================================
# SECURITY - CRITICAL! MUST CHANGE ALL VALUES!
# ==============================================================================
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_GENERATE_64_CHAR_RANDOM_STRING_HERE_USING_OPENSSL
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ==============================================================================
# CORS - Update with your actual domain
# ==============================================================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=https://your-domain.com,https://app.your-domain.com

# ==============================================================================
# TELEGRAM CONFIGURATION - Use your real bot credentials
# ==============================================================================
TELEGRAM_BOT_TOKEN=YOUR_REAL_BOT_TOKEN_FROM_BOTFATHER
TELEGRAM_API_ID=YOUR_TELEGRAM_API_ID
TELEGRAM_API_HASH=YOUR_32_CHAR_TELEGRAM_API_HASH
TELEGRAM_WEBHOOK_SECRET=GENERATE_RANDOM_WEBHOOK_SECRET

# ==============================================================================
# TON BLOCKCHAIN CONFIGURATION
# ==============================================================================
TON_RPC_ENDPOINT=https://toncenter.com/api/v2/jsonRPC
TON_API_KEY=YOUR_TONCENTER_API_KEY
WEBSITE_WALLET_ADDRESS=YOUR_TON_WALLET_ADDRESS_FOR_DEPOSITS

# ==============================================================================
# EXTERNAL APIS
# ==============================================================================
GIFTS_API_URL=http://151.241.228.83:7085
GIFTS_API_TIMEOUT=30000

# ==============================================================================
# RATE LIMITING
# ==============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL=false

# ==============================================================================
# MONITORING & LOGGING
# ==============================================================================
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_TO_FILE=true
LOG_FILE_PATH=/var/log/nova/app.log

# ==============================================================================
# PERFORMANCE & CACHING
# ==============================================================================
ENABLE_CACHE=true
CACHE_TTL=3600
# Redis for production caching (optional but recommended)
REDIS_URL=redis://localhost:6379/0

# ==============================================================================
# ERROR MONITORING - Sentry (HIGHLY RECOMMENDED)
# ==============================================================================
SENTRY_DSN=YOUR_SENTRY_DSN_HERE
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_TELEGRAM_WEBHOOK=true
ENABLE_AUTO_REFUND=true

# ==============================================================================
# PAYMENT CONFIGURATION
# ==============================================================================
PLATFORM_FEE_PERCENTAGE=3
MIN_CHANNEL_PRICE=0.1
MAX_CHANNEL_PRICE=10000
PURCHASE_VERIFICATION_HOURS=24

# ==============================================================================
# SSL/TLS CONFIGURATION (if handling SSL in app)
# ==============================================================================
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# ==============================================================================
# BACKUP CONFIGURATION
# ==============================================================================
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
# BACKUP_S3_BUCKET=your-backup-bucket

# ==============================================================================
# DEPLOYMENT CHECKLIST
# ==============================================================================
# Before deploying to production, ensure:
# 
# 1. [ ] All CHANGE_ME values have been replaced
# 2. [ ] JWT_SECRET is a cryptographically secure random string
# 3. [ ] DATABASE_URL points to PostgreSQL (not SQLite!)
# 4. [ ] TELEGRAM credentials are valid
# 5. [ ] ALLOWED_ORIGINS contains your production domains
# 6. [ ] Sentry DSN is configured for error monitoring
# 7. [ ] Redis is configured for caching (optional but recommended)
# 8. [ ] SSL certificates are properly configured
# 9. [ ] Firewall rules allow only necessary ports
# 10. [ ] This file is never committed to version control
# 
# ==============================================================================
